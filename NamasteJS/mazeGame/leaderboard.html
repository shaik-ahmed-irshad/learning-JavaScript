<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta
			name="description"
			content="Ahmed's personal portfolio website showcasing all his works"
		/>
		<meta name="keywords" content="HTML, CSS, JavaScript" />
		<meta name="author" content="Irsh" />
		<title>Result!!</title>
		<link rel="icon" type="image/x-icon" href="favicon.ico" />
		<link rel="stylesheet" href="styles.css" />
	</head>
	<body>
		<center>
			<div>
				<h1 id="myh1">Welcome to Leader Board</h1>
				<table id="leaderBoard">
					<thead id="head">
						<th>Rank</th>
						<th>Attempts</th>
						<th>Player</th>
					</thead>
					<tbody id="my-board"></tbody>
				</table>
				<br /><br />
				<a href="/mazeGame/"> >> Go Back!</a>
			</div>
		</center>
	</body>
	<script>
		// The ULTIMATE LEADER BOARD Logic:

		// accessing, parcing and and storing Winners Data from Browser Local storage
		const winners = JSON.parse(localStorage.getItem("winners"));
		// accessing html table body with id
		let myBoard = document.getElementById("my-board");
		let row, col;
		
		// creating only 3 rows since we want to display only top 3 ranks 
		for (let i = 0; i < 3; i++) {
			row = document.createElement("tr");
			// creating 3 cols since there are only 3 : 1.rank, 2.attempts, 3.playerNames
			for (let j = 0; j < 3; j++) {
				col = document.createElement("td");
				// populating the rank col or 1st column with 1,2,3..
				if (j == 0) {
					col.innerText = i + 1;
				}
				// populating the attempts col or 2nd column with number of attempts
				if (j == 1) {
					col.innerText = winners[i][0].attempts;
				}
				// populating the playerName col or 3rd column with PlayerNames 
				if (j == 2) {
					let str = "";
					winners[i].forEach((ele) => {
						str = str + ele.playerName + ", ";
					});
					col.innerText = str;
				}
				row.appendChild(col);
			}
			//appending the above data to html table
			myBoard.appendChild(row);
		}
	</script>
</html>
